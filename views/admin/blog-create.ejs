<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head') %>
    <!-- CKEditor CDN -->
    <script src="https://cdn.ckeditor.com/ckeditor5/39.0.1/classic/ckeditor.js"></script>
    <style>
      .ck-editor__editable_inline {
        min-height: 300px;
      }
    </style>
  </head>
  <body>
    <%- include('../partials/nav') %>

    <div class="container mt-4">
      <div class="row">
        <div class="col-md-12 mt-3">
          <!-- Bu satırı 3e 12 şeklinde bölünsün 3 kolon sağda 9 kolon solda -->
          <form method="post" enctype="multipart/form-data" action="/admin/blog/create">
            <div class="row mb-3">
              <label for="baslik" class="col-sm-2 col-form-label">Başlık</label>
              <div class="col sm-8">
                <input
                  type="text"
                  class="form-control"
                  id="baslik"
                  name="baslik"
                />
              </div>
            </div>
            <div class="row mb-3">
              <label for="aciklama" class="col-sm-2 col-form-label"
                >Açıklama</label
              >
              <div class="col sm-8">
                <textarea
                  name="aciklama"
                  id="aciklama"
                  class="form-control"
                  rows="10"
                ></textarea>
              </div>
            </div>
            <div class="row mb-3">
              <label for="resim" class="col-sm-2 col-form-label">Resim</label>
              <div class="col sm-8">
                <input
                  type="file"
                  class="form-control"
                  id="resim"
                  name="resim"
                />
              </div>
            </div>
            <div class="row mb-3">
              <label for="kategori" class="col-sm-2 col-form-label"
                >Kategori</label
              >
              <div class="col sm-8">
                <select name="kategori" id="kategori" class="form-select">
                  <option value="" selected>Seçiniz</option>
                  <% categories.forEach(function(category) { %>
                  <option value="<%= category.categoryid %>">
                    <%= category.name %>
                  </option>
                  <% }); %>
                </select>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-sm-8 offset-sm-2">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="anasayfa"
                    name="anasayfa"
                  />
                  <label class="form-check-label" for="anasayfa">
                    Anasayfa
                  </label>
                </div>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-sm-8 offset-sm-2">
                <button type="submit" class="btn btn-primary">Kaydet</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- CKEditor Initialization -->
    <script>
        ClassicEditor
            .create(document.querySelector('#aciklama'), {
                toolbar: [
                    'heading', '|',
                    'bold', 'italic', 'link', '|',
                    'bulletedList', 'numberedList', '|',
                    'outdent', 'indent', '|',
                    'blockQuote', 'insertTable', '|',
                    'undo', 'redo'
                ],
                language: 'tr'
            })
            .catch(error => {
                console.error(error);
            });
    </script>

  </body>
</html>
